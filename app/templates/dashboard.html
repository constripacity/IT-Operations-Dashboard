{% extends "base.html" %}
{% block title %}Dashboard — IT Operations{% endblock %}
{% block page_title %}Dashboard{% endblock %}

{% block content %}
<!-- KPI Cards -->
<div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
    <div class="bg-slate-800 rounded-xl p-4 border border-slate-700 card-hover">
        <div class="text-sm text-slate-400 mb-1">Total Services</div>
        <div id="kpi-total" class="text-3xl font-bold text-white">—</div>
        <div class="text-xs text-slate-500 mt-1">Monitored</div>
    </div>
    <div class="bg-slate-800 rounded-xl p-4 border border-slate-700 card-hover">
        <div class="text-sm text-slate-400 mb-1">Services Online</div>
        <div class="flex items-baseline gap-2">
            <span id="kpi-online" class="text-3xl font-bold text-emerald-400">—</span>
            <span id="kpi-online-pct" class="text-sm text-emerald-500"></span>
        </div>
        <div class="text-xs text-slate-500 mt-1">Available</div>
    </div>
    <div class="bg-slate-800 rounded-xl p-4 border border-slate-700 card-hover">
        <div class="text-sm text-slate-400 mb-1">Open Tickets</div>
        <div id="kpi-tickets" class="text-3xl font-bold text-amber-400">—</div>
        <div class="text-xs text-slate-500 mt-1">Needs attention</div>
    </div>
    <div class="bg-slate-800 rounded-xl p-4 border border-slate-700 card-hover">
        <div class="text-sm text-slate-400 mb-1">Avg Response</div>
        <div class="flex items-baseline gap-1">
            <span id="kpi-response" class="text-3xl font-bold text-cyan-400">—</span>
            <span class="text-sm text-slate-400">ms</span>
        </div>
        <div class="text-xs text-slate-500 mt-1">Service latency</div>
    </div>
</div>

<!-- Charts Row -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
    <div class="bg-slate-800 rounded-xl p-4 border border-slate-700">
        <h3 class="text-sm font-medium text-slate-400 mb-3">Service Status</h3>
        <div class="flex justify-center" style="max-height: 250px;">
            <canvas id="status-chart"></canvas>
        </div>
    </div>
    <div class="bg-slate-800 rounded-xl p-4 border border-slate-700">
        <h3 class="text-sm font-medium text-slate-400 mb-3">Response Times</h3>
        <div style="max-height: 250px;">
            <canvas id="response-chart"></canvas>
        </div>
    </div>
</div>

<!-- Live Feed & Recent Tickets -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Live Feed -->
    <div class="bg-slate-800 rounded-xl p-4 border border-slate-700">
        <h3 class="text-sm font-medium text-slate-400 mb-3 flex items-center gap-2">
            <span class="pulse-dot online"></span>
            Live Feed
        </h3>
        <div id="live-feed" class="live-feed space-y-2">
            <div class="text-sm text-slate-500 text-center py-8">Waiting for events...</div>
        </div>
    </div>

    <!-- Recent Tickets -->
    <div class="bg-slate-800 rounded-xl p-4 border border-slate-700">
        <h3 class="text-sm font-medium text-slate-400 mb-3">Recent Tickets</h3>
        <div id="recent-tickets" class="space-y-2">
            <div class="text-sm text-slate-500 text-center py-8">Loading...</div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/dashboard.js"></script>
{% endblock %}
